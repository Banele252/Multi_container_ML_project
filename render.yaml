services:
  - type: web
    name: model-backend-app
    runtime: docker
    build:
      context: ./backend
      dockerfile: Dockerfile
    ports:
      - port: 8000
    healthCheckPath: /health
    
  - type: web
    name: model-frontend-app
    runtime: docker
    build:
      context: ./frontend
      dockerfile: Dockerfile
    ports:
      - port: 8501
    dependsOn:
      - model-backend-app
    envVars:
      - key: BACKEND_URL
        fromService:
          name: model-backend-app
          property: host